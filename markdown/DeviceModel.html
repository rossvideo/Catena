<figure>
<img src="images/Catena%20Logo_PMS2191%20&amp;%20White.png" alt="Alt" />
<figcaption aria-hidden="true">Alt</figcaption>
</figure>
<h1 id="the-device-model">The Device Model</h1>
<blockquote>
<p>Defined in <code>interface/device.proto</code>.</p>
</blockquote>
<figure>
<img src="images/Catena%20UML%20-%20Device.svg" alt="Alt" />
<figcaption aria-hidden="true">Alt</figcaption>
</figure>
<p>As previously mentioned, it’s possible to represent a device model
using human-authored JSON.</p>
<p>The example service, <code>full_service</code> that’s part of
Catena’s C++ SDK imports and initializes itself from JSON files and then
provides access to it using the RPCs defined in
<code>interface/service.proto</code>.</p>
<p>There are some example device models in JSON such as
<code>device.minimal.json</code>.</p>
<figure>
<img src="images/device.minimal.png" alt="Alt" />
<figcaption aria-hidden="true">Alt</figcaption>
</figure>
<p>It’s possible to validate the JSON device models against a set of
schemata in <code>schema/catena.schema.json</code>. This defines the
top-level schema for device models, and many sub-schemata for the many
different objects that compose a device model.</p>
<p>If you’re using <code>vscode</code> it’s possible to have
intellisense mark up device models by including this snippet in your
<code>settings.json</code>.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="er">&quot;json.schemas&quot;:</span> <span class="ot">[</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">{</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;fileMatch&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;/example_device_models/device.*.json&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;url&quot;</span><span class="fu">:</span> <span class="st">&quot;./schema/catena.schema.json&quot;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="ot">]</span></span></code></pre></div>
<p>This will cause incorrect code to be highlighted like this typo…</p>
<figure>
<img src="images/device.minimal.error.png" alt="alt" />
<figcaption aria-hidden="true">alt</figcaption>
</figure>
<p>… and show tooltips and auto-completion options</p>
<figure>
<img src="images/tooltip.png" alt="alt" />
<figcaption aria-hidden="true">alt</figcaption>
</figure>
<figure>
<img src="images/autocomplete.png" alt="alt" />
<figcaption aria-hidden="true">alt</figcaption>
</figure>
<div style="text-align: center">
<p><a href="Validation.md">Next Page: Device Model Validation</a></p>
</div>
