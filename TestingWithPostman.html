<figure>
<img src="images/Catena%20Logo_PMS2191%20&amp;%20White.png" alt="Alt" />
<figcaption aria-hidden="true">Alt</figcaption>
</figure>
<h1 id="testing-catena-using-postman">Testing Catena using Postman</h1>
<p>This is a quick guide on how to use Postman to run test with Catena.
For a more detailed documentation, go to the <a
href="https://learning.postman.com/docs/introduction/overview/">learning
center</a> on the Postman website.</p>
<h2 id="how-to-set-up-postman">How to set up Postman</h2>
<ol type="1">
<li>Follow <a
href="https://learning.postman.com/docs/getting-started/installation/installation-and-updates/">this
guide</a> to install Postman on your device.</li>
<li>Once installed open Postman and create a new request by selecting
“new” then selecting “gRPC”.</li>
<li>Go to the “Service definition” tab and select “Import a .proto file”
and import Catena’s service.proto file from the interface
subdirectory.</li>
<li>Select “Enter URL” and add the IP and port that the service is
running on.</li>
<li>Select the method you want to test.</li>
<li>Write the message for your request then click invoke.</li>
</ol>
<figure>
<img src="images/Postman%20guide%20example.png" alt="Alt" />
<figcaption aria-hidden="true">Alt</figcaption>
</figure>
<h2 id="enabling-secure-comms">Enabling Secure Comms</h2>
<h3 id="server-side-authentication">Server Side Authentication</h3>
<ol type="1">
<li>Click the lock icon beside the IP address.</li>
</ol>
<figure>
<img src="images/Postman%20SSL%201.png" alt="Alt" />
<figcaption aria-hidden="true">Alt</figcaption>
</figure>
<ol start="2" type="1">
<li>Go to the request settings tab and enter the server name that is
used for verification.</li>
</ol>
<figure>
<img src="images/Postman%20SSL%202.png" alt="Alt" />
<figcaption aria-hidden="true">Alt</figcaption>
</figure>
<h3 id="mutual-authentication">Mutual Authentication</h3>
<p>(For instructions on how to create authentication certificates see <a
href="Security.md">Security</a>)</p>
<ol start="3" type="1">
<li>On the request settings tab and turn “Enable server certificate
verification” on.</li>
<li>Go to Postman settings -&gt; Certificates.</li>
<li>Turn on CA certificates and attach the same ca.crt file used by the
server.</li>
<li>Click add client certificate.</li>
<li>Set the host to the same IP address/domain name used to call the
server.</li>
<li>attach the client.crt and client.key files. PFX file can be left
empty.</li>
<li>If a passphrase was used when generating the certificates then enter
it here, otherwise leave passphrase empty.</li>
</ol>
<figure>
<img src="images/Postman%20mTLS.png" alt="Alt" />
<figcaption aria-hidden="true">Alt</figcaption>
</figure>
<h3 id="call-by-call-authorization">Call by Call Authorization</h3>
<ol type="1">
<li>Go to the authorization tab and set the type to bearer token.</li>
<li>Create a <a href="https://jwt.io/">JSON web token</a> and paste it
into the token field.</li>
</ol>
<figure>
<img src="images/Postman%20Authorization.PNG" alt="Alt" />
<figcaption aria-hidden="true">Alt</figcaption>
</figure>
